(this.webpackJsonprgb_incremental=this.webpackJsonprgb_incremental||[]).push([[0],{11:function(e,t,n){e.exports={row:"Farming_row__3F5tY",value:"Farming_value__2vtaD",button:"Farming_button__3edmD",textbox:"Farming_textbox__219dn",asyncButton:"Farming_asyncButton__pDz8e Farming_button__3edmD",buttonThermite:"Farming_buttonThermite__1ZXsW",greenInactive:"Farming_greenInactive__wywNz",blueInactive:"Farming_blueInactive__1cpj0",redInactive:"Farming_redInactive__AwjGf",greenActive:"Farming_greenActive__-odSk",blueActive:"Farming_blueActive__32hG-",redActive:"Farming_redActive__2R1kz",optimal:"Farming_optimal__1UIra"}},176:function(e,t,n){},182:function(e,t,n){},455:function(e,t){},457:function(e,t){},467:function(e,t){},469:function(e,t){},496:function(e,t){},498:function(e,t){},499:function(e,t){},504:function(e,t){},506:function(e,t){},512:function(e,t){},514:function(e,t){},533:function(e,t){},545:function(e,t){},548:function(e,t){},553:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=n(59),s=n.n(o),i=(n(176),n(49)),c=i.c,u=n(98),l=n(18),d=n(24),h=n(17),m={gridLength:5,choiceCount:5,coordChoices:[[0,0],[0,1],[0,2],[0,3],[0,4],[1,0],[2,0],[3,0],[4,0],[1,1],[2,1],[3,1],[4,1],[1,2],[2,2],[3,2],[4,2],[1,3],[2,3],[3,3],[1,4],[2,4],[3,4],[4,3],[4,4]],grid:[[0]]},p={3:{gridLength:3,choiceCount:3,coordChoices:[[0,0],[0,1],[0,2],[1,0],[2,0],[1,1],[2,1],[1,2],[2,2]],grid:[[0]]},4:{gridLength:4,choiceCount:4,coordChoices:[[0,0],[0,1],[0,2],[0,3],[1,0],[2,0],[3,0],[1,1],[2,1],[3,1],[1,2],[2,2],[3,2],[1,3],[2,3],[3,3]],grid:[[0]]},5:m},g={grid:b(m),status:"idle",score:0,maxScore:20,maxScoreCoords:[[0]],enabled:!1,achievementStats:{perfectScores:0,streak:0},achievements:new Array,freshAchievements:new Array};function b(e){var t=e.gridLength,n=Object(l.a)(Array(t).keys()).map((function(e){return Object(l.a)(Array(t).keys()).map((function(e){return t=1,n=3,t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1)+t);var t,n}))}));return e.grid=n,e}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0==t?[n]:e.flatMap((function(r,a){return f(e.slice(a+1),t-1,[].concat(Object(l.a)(n),[r]))}))}function v(e){var t,n=e.coordChoices,r=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[0].length;n++)switch(e[t][n]){case 4:e[t][n]=1;break;case 5:e[t][n]=2;break;case 6:e[t][n]=3}return e}(JSON.parse(JSON.stringify(e.grid))),a=[],o=f(Object(l.a)(Array(e.coordChoices.length).keys()),e.choiceCount),s=Object(u.a)(o);try{var i=function(){var e=t.value,o=JSON.parse(JSON.stringify(r));e.flatMap((function(e){return y(o,n[e])}));var s=w(o),i=e.map((function(e){return n[e]}));a.push({coords:i,maxScore:s})};for(s.s();!(t=s.n()).done;)i()}catch(g){s.e(g)}finally{s.f()}for(var c=[[0]],d=0,h=0,m=a;h<m.length;h++){var p=m[h];p.maxScore>d&&(c=p.coords,d=p.maxScore)}return{coords:c,maxScore:d}}function w(e){for(var t=0,n={4:3,5:2,6:1},r=0;r<e.length;r++)for(var a=0;a<e[0].length;a++){var o=n[e[r][a]]||0;0!==o&&((r-1>=0&&5===e[r-1][a]||r+1<e.length&&5===e[r+1][a])&&(o+=1),(r-1>=0&&a-1>=0&&6===e[r-1][a-1]||r-1>=0&&a+1<=e[0].length&&6===e[r-1][a+1]||r+1<e.length&&a-1>=0&&6===e[r+1][a-1]||r+1<e.length&&a+1<e[0].length&&6===e[r+1][a+1])&&(o+=1),(a-1>=0&&4===e[r][a-1]||a+1<e[0].length&&4===e[r][a+1])&&(o=0),t+=o)}return t}function y(e,t){switch(e[t[0]][t[1]]){case 1:e[t[0]][t[1]]=4;break;case 2:e[t[0]][t[1]]=5;break;case 3:e[t[0]][t[1]]=6;break;case 4:e[t[0]][t[1]]=1;break;case 5:e[t[0]][t[1]]=2;break;case 6:e[t[0]][t[1]]=3}return e}var j=Object(d.c)({name:"farming",initialState:g,reducers:{activateCell:function(e,t){var n=t.payload;if(console.log(n),e.grid.grid=y(e.grid.grid,n),console.log("test"),e.grid.grid.flatMap((function(e){return e})).filter((function(e){return e>=4&&e<=6})).length===e.grid.choiceCount)if(e.status="finished",e.score=w(e.grid.grid),e.score===e.maxScore)e.grid.grid=e.grid.grid.map((function(e){return e.map((function(e){return e>3?e+6:e}))})),e.achievementStats.perfectScores+=1,e.achievementStats.streak+=1;else{var r,a=Object(u.a)(Object(h.a)(e.maxScoreCoords));try{for(a.s();!(r=a.n()).done;){var o=r.value;console.log(o),console.log(Object(h.a)(e.grid)),console.log(Object(h.a)(e.maxScoreCoords)),e.grid.grid[o[0]][o[1]]+=6}}catch(s){a.e(s)}finally{a.f()}e.achievementStats.streak=0}},setGridSize:function(e,t){e.grid=function(e){var t=e.gridLength,n=Object(l.a)(Array(t).keys()).map((function(e){return Object(l.a)(Array(t).keys()).map((function(e){return 0}))}));return e.grid=n,e}(JSON.parse(JSON.stringify(p[t.payload])))},startGrid:function(e){e.status="starting",e.grid=b(e.grid);var t=v(e.grid);e.maxScore=t.maxScore,e.maxScoreCoords=t.coords},enableButtons:function(e){console.log("yes"),e.status="started"}}}),A=j.actions,P=A.startGrid,O=A.activateCell,M=A.enableButtons,S=A.setGridSize,x=function(e){return e.farming.grid.grid},C=function(e){return e.farming.grid.gridLength},F=function(e){return e.farming.status},L=function(e){return e.farming.score},T=function(e){return e.farming.maxScore},k=j.reducer,R=n(11),B=n.n(R),I=n(4);function _(){var e=c(x),t=c(C),n=c(L),r=c(T),a=c(F),o=Object(i.b)(),s=new Audio("./MushroomBluegrass.mp3");s.addEventListener("ended",(function(){this.currentTime=0,this.play()}),!1);var u=new Audio("./activate_cell3.wav");u.volume=.3;var l=new Audio("./deactivate_cell.wav");l.volume=.3;var d=new Audio("./perfect_score.wav"),h=new Audio("./finish_round.wav");function m(e,t){if("idle"===a)return B.a.button;if(e>6)switch(e-=6){case 0:return B.a.button+" "+B.a.optimal;case 1:return B.a.greenInactive+" "+B.a.optimal;case 2:return B.a.blueInactive+" "+B.a.optimal;case 3:return B.a.redInactive+" "+B.a.optimal;case 4:return B.a.greenActive+" "+B.a.optimal;case 5:return B.a.blueActive+" "+B.a.optimal;case 6:return B.a.redActive+" "+B.a.optimal}switch(e){case 0:return B.a.button;case 1:return B.a.greenInactive;case 2:return B.a.blueInactive;case 3:return B.a.redInactive;case 4:return B.a.greenActive;case 5:return B.a.blueActive;case 6:return B.a.redActive}}function p(){console.log("loop"),s.paused&&(s.volume=.2,s.play()),setTimeout((function(){return o(P())}),100),setTimeout((function(){return o(M())}),100)}return"finished"===a&&n>0&&n===r&&d.play(),"finished"===a&&n>0&&n!==r&&h.play(),Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{style:{color:"rgb(222, 222, 222)"},children:"Mushroom Minigame"}),Object(I.jsx)("span",{style:{color:"rgb(222, 222, 222)"},children:"Red mushrooms give 1 point and add 1 point to active diagonal mushrooms"}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{style:{color:"rgb(222, 222, 222)"},children:"Green mushrooms give 3 point and set active mushrooms to the left and right to 0 points"}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{style:{color:"rgb(222, 222, 222)"},children:"Blue mushrooms give 2 points and add 1 point to active mushrooms above and below them"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),function(){switch(a){case"idle":return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:B.a.row,children:Object(I.jsx)("button",{className:B.a.button,style:{backgroundColor:"goldenrod",color:"white"},onClick:p,children:"Start"})}),e&&e.map((function(e,t){return Object(I.jsx)("div",{className:B.a.row,children:e.map((function(e,t){return Object(I.jsx)("button",{disabled:!0,className:m(e),children:"O"})}))})}))]});case"starting":case"started":case"finished":return Object(I.jsx)("div",{children:e&&e.map((function(t,n){return Object(I.jsx)("div",{className:B.a.row,children:t.map((function(t,r){return Object(I.jsx)("button",{disabled:"finished"===a,className:m(t),onClick:function(){return e[(t=[n,r])[0]][t[1]]>3?l.play():u.play(),void o(O(t));var t},children:"O"})}))})}))})}}(),"finished"===a&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{style:{color:"rgb(255, 255, 255)"},children:["Your Score:",n]}),Object(I.jsx)("br",{}),Object(I.jsxs)("span",{style:{color:"rgb(255, 255, 255)"},children:["Max Possible Score:",r]}),Object(I.jsxs)("div",{className:B.a.row,children:[Object(I.jsxs)("label",{style:{color:"rgb(255, 255, 255)",paddingRight:"12px"},children:[Object(I.jsx)("input",{type:"radio",name:"gridsize3x3",value:3,checked:3===t,onChange:function(){return o(S(3))}})," 3X3"]}),Object(I.jsxs)("label",{style:{color:"rgb(255, 255, 255)",paddingRight:"12px"},children:[Object(I.jsx)("input",{type:"radio",name:"gridsize4x4",value:4,checked:4===t,onChange:function(){return o(S(4))}}),"4X4"]}),Object(I.jsxs)("label",{style:{color:"rgb(255, 255, 255)",paddingRight:"12px"},children:[Object(I.jsx)("input",{type:"radio",name:"gridsize5x5",value:5,checked:5===t,onChange:function(){return o(S(5))}}),"5X5"]}),Object(I.jsx)("button",{className:B.a.button,style:{backgroundColor:"goldenrod",color:"white"},onClick:p,children:"Start"})]})]})]})}n(182);var G=n(170),H=n.n(G);var z=function(){return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(H.a,{id:"tsparticles",options:{fullScreen:{enable:!0,zIndex:0},background:{color:{value:"rgb(147,70,17)"},opacity:.01},fpsLimit:60,interactivity:{detectsOn:"canvas",modes:{bubble:{distance:400,duration:2,opacity:.2,size:10}}},particles:{color:{value:["#921212","#9e1b3e","#c3711a","#ff6b00"]},collisions:{enable:!1},move:{direction:"none",enable:!0,outMode:"out",random:!0,speed:4,straight:!1},number:{density:{enable:!0,value_area:800},value:8},opacity:{value:.5},shape:{type:["polygon","circle"]},size:{random:!0,value:5},rotate:{direction:"clockwise",animation:{enable:!0,speed:8}},zIndex:{opacityRate:.2,sizeRate:.5}},detectRetina:!0}}),Object(I.jsx)("header",{className:"App-header",children:Object(I.jsxs)("div",{style:{zIndex:1,backgroundColor:"rgba(85, 85, 85, 0.3)"},children:[Object(I.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"150px",width:"150px",fill:"#b2b2b2",viewBox:"0 0 64 64",x:"0px",y:"0px",children:[Object(I.jsx)("path",{d:"M19.631,36.864A1,1,0,0,0,20.369,35c-.06-.023-.117-.05-.177-.074L21.9,24.688c.363.027.721.053,1.088.083-.13,10.067-2.308,23.656-3.627,31A7,7,0,0,0,26.252,64H39.238a6.994,6.994,0,0,0,6.935-7.953c-.378-2.729-1.417-9.59-3.2-17.076,4.679-.153,17.295-1.063,20.864-6.416a1,1,0,0,0,.155-.714C63.936,31.522,58.521,0,30,0,1.376,0,.012,22.725,0,22.955a1,1,0,0,0,.26.718A57.524,57.524,0,0,0,19.631,36.864ZM16.6,24.341l-2.129,7.808c-1.055-.6-2.058-1.215-3.006-1.837L14.5,24.236C15.181,24.267,15.881,24.3,16.6,24.341Zm-6.8,4.836q-1.236-.874-2.3-1.713l2.043-3.406c.876.023,1.8.051,2.779.087ZM5.914,26.2c-1.009-.843-1.851-1.6-2.511-2.222,1,0,2.288,0,3.826.031ZM18.3,34.115c-.692-.316-1.365-.647-2.025-.987l2.363-8.668c.412.025.838.056,1.258.084ZM34.878,24.046c-3.389-.462-6.71-.824-9.872-1.1a5,5,0,1,1,9.872,1.1Zm8.135,36.237A5,5,0,0,1,39.238,62H26.252a4.994,4.994,0,0,1-4.923-5.873c1.323-7.372,3.5-20.987,3.656-31.185,3.855.343,7.945.809,12.1,1.433,4.258,10.944,6.515,25.644,7.111,29.946A4.983,4.983,0,0,1,43.013,60.283Zm-3.657-33.55c.648.107,1.3.216,1.944.331l3.278,9.83c-.737.043-1.439.072-2.1.088A102.933,102.933,0,0,0,39.356,26.733ZM56,30.545v4.529c-.644.2-1.313.373-2,.534V29.95Q55.008,30.24,56,30.545Zm-4,5.479c-.378.07-.755.135-1.136.2l-1.5-7.488q1.328.318,2.634.665ZM47.228,28.24,48.881,36.5c-.759.094-1.51.174-2.246.239l-3.089-9.266Q45.4,27.832,47.228,28.24ZM58,34.368V31.191c1.133.383,2.235.794,3.319,1.219A11.188,11.188,0,0,1,58,34.368ZM54.939,15.051a42.8,42.8,0,0,1,4.619,8.694,4.994,4.994,0,0,1-4.619-8.694ZM39.586,3.422A27.9,27.9,0,0,1,49.964,9.363,6,6,0,0,1,39.586,3.422Zm-1.945-.537A7.993,7.993,0,0,0,51.417,10.77a33.082,33.082,0,0,1,2.332,2.673,6.99,6.99,0,0,0,6.509,12.174,46.755,46.755,0,0,1,1.393,4.774,118.874,118.874,0,0,0-24.78-6.062,7,7,0,1,0-13.86-1.556c-9.971-.8-18.032-.815-20.9-.788A22.525,22.525,0,0,1,3.723,16.3,7.994,7.994,0,0,0,15,9a7.872,7.872,0,0,0-.906-3.682C18,3.331,23.163,2,30,2A32.564,32.564,0,0,1,37.641,2.885ZM12.348,6.3A5.993,5.993,0,0,1,4.6,14.5,21.6,21.6,0,0,1,12.348,6.3Z"}),Object(I.jsx)("path",{d:"M26.918,48.034a1.006,1.006,0,0,0-1.225.707,12.368,12.368,0,0,1-.588,1.812,1,1,0,0,0,1.79.894,12.993,12.993,0,0,0,.73-2.188A1,1,0,0,0,26.918,48.034Z"}),Object(I.jsx)("path",{d:"M27.758,30.03a1,1,0,0,0-.728,1.213c.009.038.942,3.887-.02,10.616q-.153,1.065-.3,1.978a1,1,0,0,0,.823,1.15,1.034,1.034,0,0,0,.164.013,1,1,0,0,0,.986-.837c.1-.623.207-1.3.31-2.021,1.016-7.113.023-11.213-.02-11.385A1,1,0,0,0,27.758,30.03Z"}),Object(I.jsx)("path",{d:"M33.341,46.92a1,1,0,0,0-1.28.6,11.342,11.342,0,0,1-.918,1.964,1,1,0,1,0,1.714,1.03A13.1,13.1,0,0,0,33.941,48.2,1,1,0,0,0,33.341,46.92Z"}),Object(I.jsx)("path",{d:"M33.876,36.008a1,1,0,0,0-.868,1.116,29.669,29.669,0,0,1,0,6.032,1,1,0,0,0,.889,1.1.955.955,0,0,0,.106.006,1,1,0,0,0,.993-.9,31.242,31.242,0,0,0,0-6.491A1,1,0,0,0,33.876,36.008Z"}),Object(I.jsx)("path",{d:"M37.01,44.142l1,7a1,1,0,1,0,1.98-.284l-1-7a1,1,0,0,0-1.98.284Z"}),Object(I.jsx)("path",{d:"M61,53c0-.964-.123-9.459-4.4-10.978-2.728-.969-6.12,1.109-10.375,6.348a1,1,0,0,0-.119,1.077c.14.278,1.055,1.838,4.146,3.056a33.757,33.757,0,0,1-.8,8.963,1.963,1.963,0,0,0,.327,1.734,2,2,0,0,0,1.605.8h4.6a1.978,1.978,0,0,0,1.434-.609,2.033,2.033,0,0,0,.565-1.478,51.524,51.524,0,0,0-1.064-8.036C57.867,53.95,58.878,54,60,54A1,1,0,0,0,61,53Zm-5.02,9-4.608.015a35.888,35.888,0,0,0,.9-8.865,23.808,23.808,0,0,0,2.557.506A50.855,50.855,0,0,1,55.98,62ZM48.289,49.01c4.389-5.216,6.662-5.449,7.64-5.1,2.171.77,2.885,5.49,3.038,8.081C51.986,51.815,49.219,49.917,48.289,49.01Z"})]}),Object(I.jsx)(_,{})]})})]})},N=n(23),Z=n.n(N),D=n(171);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var V,J,q=Object(d.b)("counter/fetchCount",function(){var e=Object(D.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(d.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(q.pending,(function(e){e.status="loading"})).addCase(q.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Y=U.actions,K=(Y.increment,Y.decrement,Y.incrementByAmount,U.reducer),Q=n(449);!function(e){e.Desert="Desert",e.Volcano="Volcano",e.TempleRuins="Temple Ruins",e.TempleGuardian="Temple Guardian",e.Unknown="Unknown",e.Jungle="Jungle",e.Cave="Cave",e.Moon="Moon",e.Sandstorm="Sandstorm",e.Rabbit="Rabbit",e.Oasis="Oasis",e.Treasure="Treasure",e.Boulder="Boulder",e.TreeTops="Tree Tops",e.Monsters="Monsters",e.FungalColony="Fungal Colony",e.LavaFlow="Lava Flow",e.CrumblingBridge="Crumbling Bridge",e.TrappedInsect="Trapped Insect",e.Wastes="Wastes",e.Lost="Lost",e.IceChamber="Ice Chamber",e.MagmaWaterfall="Magma Waterfall",e.StatueRoom="Statue Room",e.GraniteRaft="Granite Raft",e.CageTrap="Cage Trap",e.VolcanoBoss="Volcano Boss",e.Altar="Altar",e.ObsidianHallway="Obsidian Hallway"}(V||(V={})),function(e){e.Fireball="Fireball",e.FrostRay="Frost Ray",e.Heal="Heal",e.CommuneWithPlants="Commune with Plants",e.SpectralRope="Spectral Rope"}(J||(J={}));var X={Fireball:{description:J.Fireball,cooldown:2e4,available:!0},CommuneWithPlants:{description:J.CommuneWithPlants,cooldown:3e3,available:!0},Heal:{description:J.Heal,cooldown:5e3,available:!0},FrostRay:{description:J.FrostRay,cooldown:5e3,available:!0},SpectralRope:{description:J.SpectralRope,cooldown:5e3,available:!0}};function E(e,t){for(var n in e)if(e[n]>t[n])return!1;return!0}function $(e,t){for(var n in e)t[n]-=e[n];return t}function ee(e,t){for(var n in e)e[n]=e[n]+t[n];return e}function te(e){var t=0;return e.linearP1&&(t+=e.linearP1),t}function ne(e){var t=0;return e.normalP1>0&&e.normalP2>0&&(t+=Math.max(0,Q.rnorm(1,e.normalP1,e.normalP2))),t}var re=n(99);function ae(e,t){t.description!==J.Fireball||e.room.statuses.includes("burnt")?t.description!==J.CommuneWithPlants||e.room.statuses.includes("burnt")?e.combatLogMessages.unshift("No effect"):e.combatLogMessages.unshift('Vines sway in sync and you hear a whisper "Seek the golden slug"'):(e.room.statuses.push("burnt"),e.redFnParams=ee({linearP1:3},e.redFnParams),e.combatLogMessages.unshift("You feed on the energy from the withering vines"))}function oe(e,t){t.description!==J.FrostRay||e.room.statuses.includes("frozen")?t.description===J.SpectralRope&&e.room.statuses.includes("frozen")?(e.combatLogMessages.unshift("You climb in to a narrow fissure, revealing a the Moon Door"),e.room.options.push(Ge)):t.description!==J.CommuneWithPlants||e.room.statuses.includes("burnt")?e.combatLogMessages.unshift("No effect"):e.combatLogMessages.unshift("A phosphorescent mushroom breathes in and lets out a puff of spores in the shape of a bridge and rope"):(e.room.statuses.push("frozen"),e.combatLogMessages.unshift("Water freezes into a path to the far wall"))}function se(e,t){t.description===J.Fireball?e.combatLogMessages.unshift("Molten glass sinks in to the sand"):t.description===J.CommuneWithPlants?(e.combatLogMessages.unshift("Wails from the void echo in your head. You stumble and fall to your knees"),e.resources.hp-=10):e.combatLogMessages.unshift("No effect")}function ie(e,t){t.description===J.Fireball?e.combatLogMessages.unshift("Leaves crackle and crumple but the trees stand strong"):t.description===J.CommuneWithPlants?e.combatLogMessages.unshift("Trees lean slightly to the left"):t.description!==J.FrostRay||e.room.statuses.includes("frozen")?e.combatLogMessages.unshift("No effect"):(e.room.statuses.push("frozen"),e.combatLogMessages.unshift("Branches shrink back, revealing the Rabbit Door"),e.room.options.push(He))}function ce(e,t){t.description===J.Fireball?(e.room.statuses.push("burnt"),e.combatLogMessages.unshift("Charred remains litter the floor. Rocks begin to fall from the ceiling"),e.resources.hp-=10):t.description===J.Heal?e.combatLogMessages.unshift("The rabbit leaps around the room with great vigor. You feel energized just watching it."):t.description!==J.FrostRay||e.room.statuses.includes("frozen")||e.room.statuses.includes("burnt")?t.description===J.SpectralRope?(e.combatLogMessages.unshift("You lower a rope through a crack in the floor, giving you a better avenue to proceed"),e.room.options.push(Le)):e.combatLogMessages.unshift("No effect"):(e.room.statuses.push("frozen"),e.combatLogMessages.unshift("You enrage the rabbit. It lunges at you, biting your index finger off, then bounces away"))}function ue(e,t){}function le(e,t){e.combatLogMessages.unshift("No effect")}function de(e,t){t.description===J.Fireball||t.description===J.FrostRay?(e.room.statuses.push("burnt"),e.room.options.map((function(e){for(var t in e.cost)e.cost[t]=e.cost[t]/2})),e.combatLogMessages.unshift("You batter the monsters with your magic")):t.description===J.FrostRay?(e.room.statuses.push("frozen"),e.room.options.map((function(e){for(var t in e.cost)e.cost[t]=e.cost[t]/2})),e.combatLogMessages.unshift("You batter the monsters with your magic")):"Heal"===t.description?(e.room.options.map((function(e){for(var t in e.cost)e.cost[t]=2*e.cost[t]})),e.combatLogMessages.unshift("Your magic empowers the monsters")):e.combatLogMessages.unshift("No effect")}function he(e,t){}var me={name:V.Cave,statuses:new Array,options:[]},pe=(V.Treasure,new Array,{name:V.VolcanoBoss,statuses:new Array,options:[{title:V.VolcanoBoss,action:"Challenge the Volcano Boss",cost:{green:50120,red:0,blue:0,hp:0},destination:me,statuses:new Array}]}),ge={name:V.CageTrap,statuses:new Array,options:[{title:V.VolcanoBoss,action:"Challenge the Volcano Boss",cost:{green:50120,red:0,blue:0,hp:0},destination:pe,statuses:new Array}]},be={name:V.GraniteRaft,statuses:new Array,options:[{title:V.CageTrap,action:"Drift aimlessly",cost:{green:50120,red:0,blue:0,hp:0},destination:ge,statuses:new Array}]},fe={name:V.TrappedInsect,statuses:new Array,options:[{title:V.GraniteRaft,action:"Ride the granite raft",cost:{green:50120,red:0,blue:0,hp:0},destination:be,statuses:new Array}]},ve={name:V.TrappedInsect,statuses:new Array,options:[{title:V.TrappedInsect,action:"Move ahead into the darkness",cost:{green:50120,red:0,blue:0,hp:0},destination:fe,statuses:new Array}]},we={name:V.ObsidianHallway,statuses:new Array,options:[{title:V.Altar,action:"Kneel at the steps",cost:{green:50120,red:0,blue:0,hp:0},destination:ve,statuses:new Array}]},ye={name:V.LavaFlow,statuses:new Array,options:[{title:V.ObsidianHallway,action:"Kneel at the steps",cost:{green:50120,red:0,blue:0,hp:0},destination:we,statuses:new Array},{title:V.Altar,action:"Kneel at the steps",cost:{green:50120,red:0,blue:0,hp:0},destination:ve,statuses:new Array}]},je=(V.CrumblingBridge,new Array,V.LavaFlow,new Array,{name:V.CrumblingBridge,statuses:new Array,options:[{title:V.Cave,action:"Journey On",cost:{green:50120,red:0,blue:0,hp:0},destination:me,statuses:new Array}]}),Ae={name:V.Wastes,statuses:new Array,options:[{title:V.Lost,action:"Navigate the wastes",cost:{green:50120,red:0,blue:0,hp:0},destination:je,statuses:new Array}]},Pe={name:V.TempleGuardian,statuses:new Array,options:[{title:V.Cave,action:"Challenge the Temple Guardian",cost:{green:50120,red:0,blue:0,hp:0},destination:me,statuses:new Array}]},Oe={name:V.Oasis,statuses:new Array,options:[{title:V.TempleGuardian,action:"Challenge the Temple Guardian",cost:{green:50120,red:0,blue:0,hp:0},destination:Pe,statuses:new Array}]},Me={name:V.Unknown,statuses:new Array,options:[]},Se={name:V.Volcano,statuses:new Array,options:[{title:V.LavaFlow,action:"Brave the fiery rocks",cost:{green:50120,red:0,blue:0,hp:0},destination:ye,statuses:new Array},{title:V.Unknown,action:"Plunge in to the unknown",cost:{green:50120,red:0,blue:0,hp:0},destination:Me,statuses:new Array}]},xe={name:V.Boulder,statuses:new Array,options:[{title:V.Oasis,action:"Dive left into the web-covered pit",cost:{green:3200,red:0,blue:0,hp:0},destination:Oe,statuses:new Array},{title:V.Volcano,action:"Crawl over the wall",cost:{green:48e3,red:0,blue:0,hp:0},destination:Se,statuses:new Array}]},Ce={name:V.Monsters,statuses:new Array,options:[{title:V.Boulder,action:"Tumble away from the ferocious monsters",cost:{green:50120,red:0,blue:0,hp:0},destination:xe,statuses:new Array}]},Fe={name:V.Rabbit,statuses:new Array,options:[{title:V.Monsters,action:"Slide down tunnel",cost:{green:900,red:1200,blue:100,hp:0},destination:Ce,statuses:new Array}]},Le={title:V.Monsters,action:"Rappel down behind the monster",cost:{green:100,red:100,blue:10,hp:0},destination:Ce,statuses:new Array},Te={name:V.TreeTops,statuses:new Array,options:[{title:V.Monsters,action:"Leap into the musty cove",cost:{green:75330,red:0,blue:0,hp:0},destination:Ce,statuses:new Array}]},ke={name:V.TempleRuins,statuses:new Array,options:[{title:V.TempleGuardian,action:"Face the Temple Guardian",cost:{green:37500,red:1200,blue:50,hp:0},destination:Pe,statuses:new Array}]},Re={name:V.Jungle,statuses:new Array,options:[{title:V.TreeTops,action:"Shimmy into the Tree Tops",cost:{green:2134,red:0,blue:0,hp:0},destination:Te,statuses:new Array},{title:V.TempleRuins,action:"Venture towards the Temple Ruins",cost:{green:4444,red:0,blue:0,hp:0},destination:ke,statuses:new Array}]},Be=(V.Sandstorm,new Array,{name:V.Desert,statuses:new Array,options:[{title:V.Volcano,action:"Ascend the cliff face",cost:{green:0,red:1e4,blue:0,hp:0},destination:Se,statuses:new Array},{title:V.Wastes,action:"Shy away from the blazing mountain",cost:{green:0,red:1e4,blue:0,hp:0},destination:Ae,statuses:new Array}]}),Ie={name:V.Moon,statuses:new Array,options:[]},_e={name:V.FungalColony,statuses:new Array,options:[{title:V.Moon,action:"Gaze deeply at the moon above",cost:{green:0,red:0,blue:1e5,hp:0},destination:Ie,statuses:new Array}]},Ge={title:V.FungalColony,action:"Venture behind the veil",cost:{green:100,red:100,blue:10,hp:0},destination:_e,statuses:new Array},He={title:V.Rabbit,action:"Hurdle over the frozen brambles",cost:{green:100,red:100,blue:10,hp:0},destination:Fe,statuses:new Array},ze={name:V.Cave,statuses:new Array,options:[{title:V.Jungle,action:"Swing from the vines",cost:{green:340,red:0,blue:0,hp:0},destination:Re,statuses:new Array},{title:V.Desert,action:"Brave the wastes",cost:{green:970,red:800,blue:290,hp:0},destination:Be,statuses:new Array}]},Ne={grid:Ze(),status:"idle",bossHP:100,enabled:!1};function Ze(){return Object(l.a)(Array(4).keys()).map((function(e){return Object(l.a)(Array(4).keys()).map((function(e){return Math.round(Math.random())}))}))}var De=Object(d.c)({name:"thermite",initialState:Ne,reducers:{increment:function(e){},triggerThermite:function(e,t){var n=t.payload;console.log(n),e.grid[n[0]][n[1]]=1===e.grid[n[0]][n[1]]?2:3},startGrid:function(e){console.log("yes"),e.status="starting",e.grid=Ze()},enableButtons:function(e){console.log("yes"),e.status="started"},winThermiteBossFight:function(e){},calculateDamage:function(e){e.bossHP-=4*e.grid.flatMap((function(e){return e})).filter((function(e){return 2===e})).length-2*e.grid.flatMap((function(e){return e})).filter((function(e){return 3===e})).length,e.status="finished"},incrementByAmount:function(e,t){}}}),We=De.actions,Ve=(We.increment,We.incrementByAmount,We.startGrid,We.triggerThermite,We.enableButtons,We.calculateDamage,We.winThermiteBossFight),Je=De.reducer,qe=["burnable","freezable","normal","normal","attacking","inactive","inactive"],Ue={resources:{red:1e6,green:1e7,blue:100000003,hp:100},boss:{bossHp:100,status:"normal"},room:ze,gameLoopInterval:0,availableSpells:[],items:function(){var e=[{green:0,red:0,blue:1,hp:0},{green:0,red:19,blue:0,hp:0},{green:42,red:0,blue:0,hp:0},{green:66,red:0,blue:0,hp:0},{green:20,red:20,blue:0,hp:0},{green:7,red:2,blue:0,hp:10}],t=[{green:65,red:0,blue:0,hp:0},{green:87,red:0,blue:0,hp:0},{green:123,red:0,blue:0,hp:0},{green:198,red:0,blue:0,hp:0},{green:270,red:0,blue:0,hp:0},{green:1033,red:0,blue:0,hp:0}];e=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}(e);var n=[];for(var r in t)n.push([t[r],e[r]]);return n}(),redFnParams:{linearP1:1},greenFnParams:{linearP1:2,quadraticP1:0,twoPowerP1:0},blueFnParams:{normalP1:0,normalP2:0},hpFnParams:{linearP1:.1},blueDist:[0,0,0,0],bluePast:Object(l.a)(Array(40).keys()).map((function(e){return 0})),greenDist:Object(l.a)(Array(40).keys()).map((function(e){return 0})),redDist:Object(l.a)(Array(40).keys()).map((function(e){return 0})),status:"ready",combatLogMessages:[],greenUpgrades:[[{green:13,red:0,blue:0,hp:0},!1,!1,{linearP1:.3,quadraticP1:0,twoPowerP1:0},[]],[{green:29,red:0,blue:0,hp:0},!1,!1,{linearP1:.3,quadraticP1:0,twoPowerP1:0},[X.CommuneWithPlants]],[{green:105,red:0,blue:0,hp:0},!1,!1,{linearP1:4,quadraticP1:0,twoPowerP1:0},[]],[{green:82,red:0,blue:0,hp:0},!1,!1,{linearP1:.3,quadraticP1:1,twoPowerP1:0},[X.SpectralRope]],[{green:379,red:0,blue:0,hp:0},!1,!1,{linearP1:0,quadraticP1:3,twoPowerP1:0},[]],[{green:1800,red:0,blue:7,hp:0},!1,!1,{linearP1:.3,quadraticP1:1,twoPowerP1:10},[]],[{green:3e5,red:100,blue:0,hp:0},!1,!1,{linearP1:.3,quadraticP1:1,twoPowerP1:2},[X.Heal]],[{green:1e9,red:0,blue:0,hp:0},!1,!1,{linearP1:.3,quadraticP1:1,twoPowerP1:10},[]]],redUpgrades:[[{green:13,red:0,blue:0,hp:0},!1,!1,{linearP1:.3},[X.Fireball]],[{green:37,red:0,blue:1,hp:0},!1,!1,{linearP1:.3},[]],[{green:105,red:0,blue:3,hp:0},!1,!1,{linearP1:4},[]],[{green:10,red:0,blue:0,hp:0},!1,!1,{linearP1:.3},[]],[{green:7e3,red:0,blue:0,hp:0},!1,!1,{linearP1:8},[]],[{green:61589,red:0,blue:55,hp:0},!1,!1,{linearP1:22},[]]],blueUpgrades:[[{green:9,red:45,blue:0,hp:0},!1,0,{normalP1:2e-4,normalP2:1e-4},[]],[{green:499,red:0,blue:2,hp:0},!1,0,{normalP1:0,normalP2:.5},[X.FrostRay]],[{green:0,red:389,blue:21,hp:0},!1,0,{normalP1:2,normalP2:0},[]],[{green:0,red:0,blue:131,hp:0},!1,0,{normalP1:0,normalP2:10},[]],[{green:0,red:0,blue:305,hp:0},!1,0,{normalP1:1,normalP2:10},[]]]},Ye=Object.assign({},Ue),Ke=Object(d.c)({name:"gameState",initialState:Ue,reducers:{startLoop:function(e){e.status="started"},resetState:function(e){clearInterval(e.gameLoopInterval),Object.assign(e,Ye)},incrementRed:function(e){e.resources.red+=te(e.redFnParams),e.redDist.push(te(e.redFnParams)),e.redDist.shift()},castSpell:function(e,t){if(t){var n=e.availableSpells.find((function(e){return e.description===t.payload.description}));n&&(n.available=!1,function(e,t){(n=e.room.name,Object(re.match)(n).with(V.Jungle,(function(){return ae})).with(V.Cave,(function(){return oe})).with(V.Desert,(function(){return se})).with(V.Boulder,(function(){return le})).with(V.Monsters,(function(){return ue})).with(V.TreeTops,(function(){return ie})).with(V.Rabbit,(function(){return ce})).with(V.FungalColony,(function(){return he})).with(V.Treasure,(function(){return he})).with(V.Moon,(function(){return he})).with(V.Oasis,(function(){return he})).with(V.Volcano,(function(){return he})).with(V.Unknown,(function(){return he})).with(V.TempleRuins,(function(){return he})).with(V.TempleGuardian,(function(){return he})).with(V.Sandstorm,(function(){return he})).with(V.LavaFlow,(function(){return he})).with(V.CrumblingBridge,(function(){return he})).with(V.TrappedInsect,(function(){return he})).with(V.Wastes,(function(){return he})).with(V.Lost,(function(){return he})).with(V.IceChamber,(function(){return he})).with(V.MagmaWaterfall,(function(){return he})).with(V.StatueRoom,(function(){return he})).with(V.GraniteRaft,(function(){return he})).with(V.CageTrap,(function(){return he})).with(V.VolcanoBoss,(function(){return he})).with(V.Altar,(function(){return he})).with(V.ObsidianHallway,(function(){return he})).exhaustive())(e,t),e.room.options.map((function(n){return function(e){return Object(re.match)(e).with(V.Jungle,(function(){return he})).with(V.Cave,(function(){return he})).with(V.Desert,(function(){return he})).with(V.Boulder,(function(){return de})).with(V.Monsters,(function(){return he})).with(V.TreeTops,(function(){return he})).with(V.Rabbit,(function(){return he})).with(V.FungalColony,(function(){return he})).with(V.Treasure,(function(){return he})).with(V.Moon,(function(){return he})).with(V.Oasis,(function(){return he})).with(V.Volcano,(function(){return he})).with(V.Unknown,(function(){return he})).with(V.TempleRuins,(function(){return he})).with(V.TempleGuardian,(function(){return he})).with(V.Sandstorm,(function(){return he})).with(V.LavaFlow,(function(){return he})).with(V.CrumblingBridge,(function(){return he})).with(V.TrappedInsect,(function(){return he})).with(V.Wastes,(function(){return he})).with(V.Lost,(function(){return he})).with(V.IceChamber,(function(){return he})).with(V.MagmaWaterfall,(function(){return he})).with(V.StatueRoom,(function(){return he})).with(V.GraniteRaft,(function(){return he})).with(V.CageTrap,(function(){return he})).with(V.VolcanoBoss,(function(){return he})).with(V.Altar,(function(){return he})).with(V.ObsidianHallway,(function(){return he})).exhaustive()}(n.destination.name)(e,t)}));var n}(e,n))}},resetSpell:function(e,t){if(t){var n=e.availableSpells.find((function(e){return e.description===t.payload.description}));n&&(n.available=!0)}},incrementBlue:function(e){e.resources.blue+=ne(e.blueFnParams),e.blueDist=Object(l.a)(Array(1e3).keys()).map((function(t){return Math.round(ne(e.blueFnParams))})),e.bluePast.push(e.resources.blue),e.bluePast.shift()},incrementGreen:function(e){e.resources.green+=function(e){var t=0;return e.linearP1&&(t+=e.linearP1),e.quadraticP1&&(t+=e.quadraticP1*e.quadraticP1),e.twoPowerP1&&(t+=Math.pow(2,e.twoPowerP1)),t}(e.greenFnParams),e.greenDist.push(e.resources.green),e.greenDist.shift()},incrementHP:function(e){e.resources.hp-=function(e){var t=0;return e.linearP1&&(t+=e.linearP1),t}(e.hpFnParams),e.resources.hp<=0&&(e.status="gameOver")},attackBoss:function(e,t){t.payload.description===J.Fireball&&"burnable"===e.boss.status?(e.boss.status="burnt",e.boss.bossHp-=30):t.payload.description===J.Fireball&&"normal"===e.boss.status?e.boss.bossHp-=20:t.payload.description===J.FrostRay&&"freezable"===e.boss.status?(e.boss.status="frozen",e.boss.bossHp-=30):t.payload.description===J.FrostRay&&"normal"===e.boss.status?e.boss.bossHp-=20:"Gem Attack"===t.payload.description&&"normal"===e.boss.status?(e.boss.status="inactive",e.boss.bossHp-=10):"Gem Attack"===t.payload.description&&e.availableSpells.find((function(e){return e.description===J.SpectralRope&&!e.available}))&&"normal"===e.boss.status&&(e.boss.status="inactive",e.boss.bossHp-=15),e.boss.bossHp<=0&&(e.status="victory")},startTempleGuardianBossFight:function(e){e.status="tgBossFight",clearInterval(e.gameLoopInterval),e.gameLoopInterval=NaN},startThermiteBossFight:function(e){e.status="thermiteBossFight",clearInterval(e.gameLoopInterval),e.gameLoopInterval=NaN},bossAttack:function(e){e.availableSpells.find((function(e){return e.description===J.SpectralRope&&!e.available}))||"frozen"===e.boss.status||"burnt"===e.boss.status?e.resources.hp-=3:e.resources.hp-=5,e.boss.status=qe[Math.round(Math.random()*qe.length)],e.resources.hp<=0&&(e.status="gameOver")},incrementBossHP:function(e){e.boss.bossHp-=4*Math.random(),e.boss.bossHp<=0&&(e.status="victory")},boulderKill:function(e){e.room.name===V.Boulder&&(e.status="gameOver")},setGameLoopIntervals:function(e,t){e.gameLoopInterval=t.payload},clearGameLoopIntervals:function(e){clearInterval(e.gameLoopInterval),e.gameLoopInterval=0},addCombatLogMessages:function(e,t){console.log("unshift"),e.combatLogMessages.unshift(t.payload)},clearCombatLogMessages:function(e){e.combatLogMessages=[]},buyItem:function(e,t){if(t.payload.item){var n=e.items[0],r=Object(h.a)(n);if(!n||!r||t.payload.item!==r)return;if(!E(r[0],e.resources))return;e.resources=$(r[0],e.resources),e.resources=function(e,t){for(var n in e)t[n]+=e[n];return t}(r[1],e.resources),e.items.shift()}},stepQuest:function(e,t){var n=e.room.options,r=Object(h.a)(n);if(n&&r){var a=r.find((function(e){return e===t.payload.choice}));a&&E(a.cost,e.resources)&&(e.resources=$(a.cost,e.resources),0==a.destination.options.length&&(e.status="victory"),e.room=a.destination)}},upgrade:function(e,t){if(t.payload.green){var n=e.greenUpgrades.find((function(e){return!e[1]})),r=Object(h.a)(n);if(!n||!r||t.payload.green!==r)return;if(!E(r[0],e.resources))return void(n[2]=!0);e.availableSpells=e.availableSpells.concat(r[4]),e.resources=$(r[0],e.resources),e.greenFnParams=function(e,t){for(var n in e)e[n]=e[n]+t[n];return e}(e.greenFnParams,r[3]),n[1]=!0}if(t.payload.red){var a=e.redUpgrades.find((function(e){return!e[1]})),o=Object(h.a)(a);if(!a||!o||t.payload.red!==o)return;if(!E(o[0],e.resources))return void(a[2]=!0);e.availableSpells=e.availableSpells.concat(o[4]),e.resources=$(o[0],e.resources),e.redFnParams=ee(e.redFnParams,o[3]),a[1]=!0}if(t.payload.blue){var s=e.blueUpgrades.find((function(e){return!e[1]})),i=Object(h.a)(s);if(!s||!i||t.payload.blue!==i)return;if(!E(i[0],e.resources))return void(s[2]+=1);e.availableSpells=e.availableSpells.concat(i[4]),e.resources=$(i[0],e.resources),e.blueFnParams=function(e,t){for(var n in e)e[n]=e[n]+t[n];return e}(e.blueFnParams,i[3]),s[1]=!0}}},extraReducers:function(e){e.addCase(Ve,(function(e){e.status="victory"}))}});var Qe=Ke.actions,Xe=(Qe.incrementRed,Qe.incrementBossHP,Qe.resetState,Qe.startTempleGuardianBossFight,Qe.startThermiteBossFight,Qe.startLoop,Qe.boulderKill,Qe.attackBoss,Qe.bossAttack,Qe.addCombatLogMessages,Qe.clearCombatLogMessages,Qe.incrementGreen,Qe.incrementBlue,Qe.setGameLoopIntervals,Qe.clearGameLoopIntervals,Qe.incrementHP,Qe.castSpell,Qe.resetSpell,Qe.buyItem,Qe.stepQuest,Qe.upgrade,Ke.reducer),Ee=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")||"{}"):{};Ee&&Ee.gameState&&Ee.gameState.status&&"started"===Ee.gameState.status&&(Ee.gameState.status="ready");var $e=Object(d.a)({reducer:{counter:K,gameState:Xe,thermite:Je,farming:k},preloadedState:Ee});$e.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify($e.getState()))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(i.a,{store:$e,children:Object(I.jsx)(z,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[553,1,2]]]);
//# sourceMappingURL=main.d0902e57.chunk.js.map