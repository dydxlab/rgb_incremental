{"version":3,"sources":["features/gameState/Counter.module.css","features/gameState/Types.ts","app/hooks.ts","features/gameState/Items.ts","features/gameState/Quest.ts","features/gameState/gameStateSlice.ts","features/gameState/Utils.tsx","features/gameState/CYOA.tsx","features/gameState/Draft.tsx","features/gameState/TechTree.tsx","features/gameState/GameWrapper.tsx","features/gameState/GameOver.tsx","App.tsx","Beetle.png","features/counter/counterAPI.ts","features/counter/counterSlice.ts","app/store.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","RoomList","SpellList","useAppDispatch","useDispatch","useAppSelector","useSelector","pd","require","spells1","Fireball","description","cooldown","available","CommuneWithPlants","Heal","FrostRay","SpectralRope","isCostSatisfiable","cost","resources","c","removeResources","combineRedParams","a","b","i","redFn","params","total","linearP1","blueFn","normalP1","normalP2","Math","max","rnorm","jungleRoomInteraction","state","spell","room","statuses","includes","combatLogMessages","push","redFnParams","caveRoomInteraction","options","moonDoor","desertRoomInteraction","hp","treeTopsRoomInteraction","rabbitDoor","rabbitRoomInteraction","ropeMonsterDoor","monstersRoomInteraction","boulderDodgeRoomInteraction","monstersDoorInteraction","map","o","EmptyFn","Treasure","Array","oasisRoom","name","Oasis","unknownRoom","Unknown","volcanoRoom","Volcano","title","action","green","red","blue","destination","boulderRoom","Boulder","monstersRoom","Monsters","rabbitRoom","Rabbit","treeTopsRoom","TreeTops","templeGuardianRoom","TempleGuardian","templeRuinsRoom","TempleRuins","jungleRoom","Jungle","desertRoom","Sandstorm","Desert","moonRoom","Moon","FungalColony","initialState","Cave","gameLoopInterval","availableSpells","items","itemsTier1","costsTier1","length","j","floor","random","shuffle","initializeTier1","greenFnParams","quadraticP1","twoPowerP1","blueFnParams","hpFnParams","blueDist","bluePast","keys","greenDist","redDist","status","greenUpgrades","redUpgrades","blueUpgrades","initialStateCopy","Object","assign","gameStateSlice","createSlice","reducers","startLoop","resetState","clearInterval","incrementRed","shift","castSpell","payload","find","x","match","with","exhaustive","getDoorInteractions","handleSpell","resetSpell","incrementBlue","round","incrementGreen","pow","greenFn","incrementHP","hpFn","console","log","boulderKill","setGameLoopIntervals","clearGameLoopIntervals","addCombatLogMessages","clearCombatLogMessages","buyItem","item","currentItem","current","addResources","stepQuest","step","currentStep","currentChoice","choice","upgrade","currentUpgrade","concat","combineGreenParams","combineBlueParams","actions","selectRed","gameState","selectBlue","selectGreen","selectHP","selectCombatLogMessages","selectRoomName","selectNextDoors","selectSpells","selectGameStatus","selectBlueDist","selectBluePast","selectGreenDist","selectRedDist","selectGreenUpgradeCost","selectRedUpgradeCost","selectBlueUpgradeCost","selectItemCost","getCostString","style","color","CYOA","roomName","messages","spells","dispatch","src","alt","className","styles","hpheart","hpheartFaster","row","button","onClick","join","option","setTimeout","spellFn","spellstatus","formatResourceValue","toFixed","xA","yA","rbeta","Draft","gameStatus","audio","Audio","useState","plotlyLayout","width","height","plot_bgcolor","paper_bgcolor","margin","l","r","t","pad","xaxis","yaxis","value","data","type","y","marker","layout","config","orientation","showlegend","domain","zeroline","xaxis2","showticklabels","yaxis2","anchor","range","aria-label","intval","setInterval","volume","play","TechTree","greenUpgradeCost","redUpgradeCost","blueUpgradeCost","itemCost","GameWrapper","GameOver","initializeLoop","endScreen","App","id","fullScreen","enable","zIndex","background","opacity","fpsLimit","interactivity","detectsOn","modes","bubble","distance","duration","size","particles","collisions","move","direction","outMode","speed","straight","number","density","value_area","shape","rotate","animation","opacityRate","sizeRate","detectRetina","backgroundColor","fetchCount","amount","Promise","resolve","incrementAsync","createAsyncThunk","response","counterSlice","increment","decrement","incrementByAmount","extraReducers","builder","addCase","pending","fulfilled","persistedState","localStorage","getItem","JSON","parse","store","configureStore","reducer","counter","counterReducer","gameStateReducer","preloadedState","subscribe","setItem","stringify","getState","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.17f4618b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Counter_row__3dHJ0\",\"endScreen\":\"Counter_endScreen__2dI2v\",\"value\":\"Counter_value__9lNV0\",\"button\":\"Counter_button__QVSYQ\",\"textbox\":\"Counter_textbox__13BFQ\",\"asyncButton\":\"Counter_asyncButton__3yoXe Counter_button__QVSYQ\",\"modebar-container\":\"Counter_modebar-container__24Lzs\",\"spellstatus\":\"Counter_spellstatus__3jRo7\",\"hpheart\":\"Counter_hpheart__1azrc\",\"hpheartthrob\":\"Counter_hpheartthrob__3M1u4\",\"hpheartFaster\":\"Counter_hpheartFaster__3Nvrp\",\"hpheartthrobFaster\":\"Counter_hpheartthrobFaster__9Wpkq\"};","\nconst pd = require('probability-distributions');\n\nexport interface CYOAOption {\n    description?: String;\n    title?: String;\n    action?: String;\n    image?: String;\n    cost: Cost;\n    destination: Room;\n    statuses: Array<StructureStatus>;\n}\n\nexport interface QuestStep {\n    options: Array<CYOAOption>;\n    active: boolean;\n}\n\nexport interface GreenFnParams {\n    linearP1: number;\n    quadraticP1: number;\n    twoPowerP1: number;\n}\n\nexport interface BlueFnParams {\n    normalP1: number;\n    normalP2: number;\n}\n\nexport interface RedFnParams  {\n    linearP1: number;\n}\n\n\nexport interface HPFnParams  {\n    linearP1: number;\n}\n\n\nexport interface Spell {\n    description: SpellList;\n    cooldown?: number;\n    available: boolean;\n}\n\n\nexport type GSResourceName = \"red\" | \"blue\" | \"green\" | \"hp\";\nexport type GameStatus = \"ready\" | \"started\" | \"victory\" | \"gameOver\";\nexport type StructureStatus = \"burnt\" | \"frozen\" | \"flourishing\";\n\n\nexport enum RoomList {\n    Desert = \"Desert\",\n    Volcano = \"Volcano\",\n    TempleRuins = \"Temple Ruins\",\n    TempleGuardian = \"Temple Guardian\",\n    Unknown = \"Unknown\",\n    Jungle = \"Jungle\",\n    Cave = \"Cave\",\n    Moon = \"Moon\",\n    Sandstorm = \"Sandstorm\",\n    Rabbit = \"Rabbit\",\n    Oasis = \"Oasis\",\n    Treasure = \"Treasure\",\n    Boulder = \"Boulder\",\n    TreeTops = \"Tree Tops\",\n    Monsters = \"Monsters\",\n    FungalColony = \"Fungal Colony\"\n}\n\n\nexport enum SpellList {\n    Fireball = \"Fireball\",\n    FrostRay = \"Frost Ray\",\n    Heal = \"Heal\",\n    CommuneWithPlants = \"Commune with Plants\",\n    SpectralRope = \"Spectral Rope\"\n}\n\nexport type Cost = Record<GSResourceName, number>\nexport type ResourceBonus = Record<GSResourceName, number>\n\nexport const spells1 = {\n  Fireball: { description: SpellList.Fireball, cooldown: 20000, available: true, },\n  CommuneWithPlants: { description: SpellList.CommuneWithPlants, cooldown: 3000, available: true },\n  Heal:   { description: SpellList.Heal, cooldown: 5000, available: true},\n  FrostRay:   { description: SpellList.FrostRay, cooldown: 5000,  available: true, },\n  SpectralRope:  { description: SpellList.SpectralRope, cooldown: 5000, available: true, }\n}\n\nexport interface Room {\n    statuses: Array<StructureStatus>;\n    options: Array<CYOAOption>;\n    name: RoomList;\n  }\n\nexport function isCostSatisfiable(cost: Cost, resources: Record<GSResourceName, number>): boolean {\n    for (let c in cost) {\n        if (cost[c as keyof typeof cost] > resources[c as keyof typeof resources]) return false\n    }\n    return true\n}\n\nexport function removeResources(cost: Cost, resources: Record<GSResourceName, number>) {\n    for (let c in cost) {\n        resources[c as keyof typeof resources] -= cost[c as keyof typeof cost]\n    }\n    return resources\n}\n\nexport function addResources(cost: Cost, resources: Record<GSResourceName, number>) {\n    for (let c in cost) {\n        resources[c as keyof typeof resources] += cost[c as keyof typeof cost]\n    }\n    return resources\n}\n\nexport function combineGreenParams(a: GreenFnParams, b: GreenFnParams): GreenFnParams {\n    for (let i in a) {\n        a[i as keyof typeof a] = a[i as keyof typeof a] + b[i as keyof typeof b]\n    }\n    return a\n}\n\nexport function combineRedParams(a: RedFnParams, b: RedFnParams): RedFnParams {\n    for (let i in a) {\n        a[i as keyof typeof a] = a[i as keyof typeof a] + b[i as keyof typeof b]\n    }\n    return a\n}\n\nexport function combineBlueParams(a: BlueFnParams, b: BlueFnParams): BlueFnParams {\n    for (let i in a) {\n        a[i as keyof typeof a] = a[i as keyof typeof a] + b[i as keyof typeof b]\n    }\n    return a\n}\n\n\n\nexport function greenFn(params: GreenFnParams) {\n    let total = 0.0\n    if (params.linearP1) {\n      total += params.linearP1\n    }\n    if (params.quadraticP1) {\n      total += (params.quadraticP1 * params.quadraticP1)\n    }\n    if (params.twoPowerP1) {\n      total += (Math.pow(2, params.twoPowerP1))\n    }\n    return total\n  }\n  \n  \n  export function redFn(params: RedFnParams) {\n    let total = 0\n    if (params.linearP1) {\n      total += params.linearP1\n    }\n  \n    return total\n  }\n  \n  \n  \n  \n  export function blueFn(params: BlueFnParams) {\n    let total = 0.0\n    if (params.normalP1 > 0 && params.normalP2 > 0) {\n      total += Math.max(0, pd.rnorm(1,params.normalP1, params.normalP2))\n    }\n  \n    return total\n  }\n  \n  \n  \n  export function hpFn(params: HPFnParams) {\n    let total = 0\n    if (params.linearP1) {\n      total += params.linearP1\n    }\n  \n    return total\n  }","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { Cost, ResourceBonus } from './Types'\nfunction shuffle<T>(a: Array<T>): Array<T> {\n    for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n}\n\nexport let Item: [Cost, ResourceBonus]\n\nexport function initializeTier1(): Array<typeof Item> {\n    let itemsTier1: Array<ResourceBonus> = [\n        { green: 0, red: 0, blue: 1, hp: 0 },\n        { green: 0, red: 19, blue: 0, hp: 0 },\n        { green: 42, red: 0, blue: 0, hp: 0 },\n        { green: 66, red: 0, blue: 0, hp: 0 },\n        { green: 20, red: 20, blue: 0, hp: 0 },\n        { green: 7, red: 2, blue: 0, hp: 10 },\n    ]\n\n    let costsTier1: Array<Cost> = [\n        { green: 65, red: 0, blue: 0, hp: 0 },\n        { green: 87, red: 0, blue: 0, hp: 0 },\n        { green: 123, red: 0, blue: 0, hp: 0 },\n        { green: 198, red: 0, blue: 0, hp: 0 },\n        { green: 270, red: 0, blue: 0, hp: 0 },\n        { green: 1033, red: 0, blue: 0, hp: 0 },\n    ]\n\n    itemsTier1 = shuffle(itemsTier1)\n    let items: Array<typeof Item> = []\n    for (let i in costsTier1) {\n        items.push([costsTier1[i], itemsTier1[i]]);\n    }\n    return items\n}\n\nlet itemsTier2: Array<ResourceBonus> = [\n    { green: 0, red: 0, blue: 104, hp: 0 },\n    { green: 0, red: 290, blue: 0, hp: 0 },\n    { green: 4255, red: 0, blue: 0, hp: 0 },\n    { green: 660, red: 0, blue: 0, hp: 24 },\n    { green: 808, red: 935, blue: 0, hp: 0 },\n    { green: 7, red: 2, blue: 0, hp: 0 },\n]\n\n","import { QuestStep, combineRedParams, StructureStatus, Room, RoomList, SpellList } from './Types'\nimport { match, __, not, select, when } from 'ts-pattern';\nimport { GameState } from './gameStateSlice';\nimport {Draft } from '@reduxjs/toolkit';\n\n\n\n\nexport function jungleRoomInteraction(state, spell) {\n    if (spell.description === SpellList.Fireball && !state.room.statuses.includes('burnt')) {\n        state.room.statuses.push('burnt');\n        state.redFnParams = combineRedParams({ linearP1: 3 }, state.redFnParams)\n        state.combatLogMessages.push('You feed on the energy from the withering vines')\n    } else if (spell.description === SpellList.CommuneWithPlants && !state.room.statuses.includes('burnt')) {\n        state.combatLogMessages.push('Vines sway in sync and you hear a whisper \"Seek the golden slug\"')\n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function caveRoomInteraction(state, spell) {\n    if (spell.description === SpellList.FrostRay && !state.room.statuses.includes('frozen')) {\n        state.room.statuses.push('frozen');\n        state.combatLogMessages.push('Water freezes into a path to the far wall')\n    } else if (spell.description === SpellList.SpectralRope && state.room.statuses.includes('frozen')) {\n        state.combatLogMessages.push('You climb in to a narrow fissure, revealing a the Moon Door')\n        state.room.options.push(moonDoor);\n    } else if (spell.description === SpellList.CommuneWithPlants && !state.room.statuses.includes('burnt')) {\n        state.combatLogMessages.push('A phosphorescent mushroom breathes in and lets out a puff of spores in the shape of a bridge and rope')\n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function desertRoomInteraction(state, spell) {\n    if (spell.description === SpellList.Fireball) {\n        state.combatLogMessages.push('Molten glass sinks in to the sand')\n    } else if (spell.description === SpellList.CommuneWithPlants ) {\n        state.combatLogMessages.push('Wails from the void echo in your head. You stumble and fall to your knees')\n        state.resources.hp -= 10;\n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function treeTopsRoomInteraction(state, spell) {\n    if (spell.description === SpellList.Fireball) {\n        state.combatLogMessages.push('Leaves crackle and crumple but the trees stand strong')\n    } else if (spell.description === SpellList.CommuneWithPlants ) {\n        state.combatLogMessages.push('Trees lean slightly to the left')\n    } else if (spell.description === SpellList.FrostRay && !state.room.statuses.includes('frozen')) {\n        state.room.statuses.push('frozen');\n        state.combatLogMessages.push('Branches shrink back, revealing the Rabbit Door')\n        state.room.options.push(rabbitDoor); \n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function rabbitRoomInteraction(state, spell) {\n    if (spell.description === SpellList.Fireball ) {\n        state.room.statuses.push('burnt');\n        state.combatLogMessages.push('Charred remains litter the floor. Rocks begin to fall from the ceiling')\n        state.resources.hp -= 10;\n        //Add hpFn params for faster reduction for the rest of the round\n    } else if (spell.description === SpellList.Heal ) {\n        state.combatLogMessages.push('The rabbit leaps around the room with great vigor. You feel energized just watching it.')\n        //TODO: More lore\n        //TODO: more, maybe better greenFnParams, \n    } else if (spell.description === SpellList.FrostRay && !state.room.statuses.includes('frozen') && !state.room.statuses.includes('burnt')) {\n        state.room.statuses.push('frozen');\n        state.combatLogMessages.push('You enrage the rabbit. It lunges at you, biting your index finger off, then bounces away')\n    } else if (spell.description === SpellList.SpectralRope) {\n        state.combatLogMessages.push('You lower a rope through a crack in the floor, giving you a better avenue to proceed')\n        state.room.options.push(ropeMonsterDoor)\n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function monstersRoomInteraction(state, spell) {\n    \n}\n\nexport function boulderDodgeRoomInteraction(state, spell) {\n    state.combatLogMessages.push('No effect')\n}\n\n\nexport function desertDoorInteraction(state, spell) {\n    if (spell.type === 'Fireball') {\n        state.combatLogMessages.push('Flames dance across the sand haplessly');\n    } else {\n        state.combatLogMessages.push('No effect');\n    }\n}\nexport function monstersDoorInteraction(state: Draft<GameState>, spell) {\n    if (spell.description === SpellList.Fireball || spell.description === SpellList.FrostRay ) {\n        state.room.statuses.push('burnt');\n\n        state.room.options.map(o => {\n            for (let c in o.cost) {\n                o.cost[c as keyof typeof o.cost] =  o.cost[c as keyof typeof o.cost] / 2\n            }\n        })\n        state.combatLogMessages.push('You batter the monsters with your magic');\n\n    } else if ( spell.description === SpellList.FrostRay ) {\n        state.room.statuses.push('frozen');\n\n        state.room.options.map(o => {\n            for (let c in o.cost) {\n                o.cost[c as keyof typeof o.cost] =  o.cost[c as keyof typeof o.cost] / 2\n            }\n        })\n        state.combatLogMessages.push('You batter the monsters with your magic');\n\n    } else if (spell.description === 'Heal' ) {\n        state.room.options.map(o => {\n            for (let c in o.cost) {\n                o.cost[c as keyof typeof o.cost] =  o.cost[c as keyof typeof o.cost] * 2\n            }\n        })\n        state.combatLogMessages.push('Your magic empowers the monsters');\n    } else {\n        state.combatLogMessages.push('No effect')\n    }\n}\n\nexport function getRoomInteractions(room: RoomList) {\n    return match(room)\n    .with(RoomList.Jungle,() => jungleRoomInteraction)\n    .with(RoomList.Cave, () =>caveRoomInteraction)\n    .with(RoomList.Desert,() => desertRoomInteraction)\n    .with(RoomList.Boulder, () =>boulderDodgeRoomInteraction)\n    .with(RoomList.Monsters,() => monstersRoomInteraction)\n    .with(RoomList.TreeTops,() => treeTopsRoomInteraction)\n    .with(RoomList.Rabbit,() => rabbitRoomInteraction)\n    .with(RoomList.FungalColony,() => EmptyFn)\n    .with(RoomList.Treasure,() => EmptyFn)\n    .with(RoomList.Moon,() => EmptyFn)\n    .with(RoomList.Oasis,() => EmptyFn)\n    .with(RoomList.Volcano,() => EmptyFn)\n    .with(RoomList.Unknown,() => EmptyFn)\n    .with(RoomList.TempleRuins,() => EmptyFn)\n    .with(RoomList.TempleGuardian,() => EmptyFn)  \n    .with(RoomList.Sandstorm,() => EmptyFn)\n    .exhaustive()\n\n}\n\nexport function getDoorInteractions(room: RoomList){\n    return match(room)\n    .with(RoomList.Jungle,() => EmptyFn)\n    .with(RoomList.Cave,() => EmptyFn)\n    .with(RoomList.Desert,() => EmptyFn)\n    .with(RoomList.Boulder,() => monstersDoorInteraction)\n    .with(RoomList.Monsters,() => EmptyFn)\n    .with(RoomList.TreeTops,() => EmptyFn)\n    .with(RoomList.Rabbit,() => EmptyFn)\n    .with(RoomList.FungalColony, () =>EmptyFn)\n    .with(RoomList.Treasure, () =>EmptyFn)\n    .with(RoomList.Moon,() => EmptyFn)\n    .with(RoomList.Oasis,() => EmptyFn)\n    .with(RoomList.Volcano,() => EmptyFn)\n    .with(RoomList.Unknown,() => EmptyFn)\n    .with(RoomList.TempleRuins,() => EmptyFn)\n    .with(RoomList.TempleGuardian,() => EmptyFn)\n    .with(RoomList.Sandstorm,() => EmptyFn)\n    .exhaustive()\n}\n\nfunction EmptyFn(state, spell) {\n    \n}\n\nexport let treasureRoom: Room = {\n    name: RoomList.Treasure,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n    ]\n}\n\nexport let oasisRoom: Room = {\n    name: RoomList.Oasis,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n    ]\n}\n\nexport let unknownRoom: Room = {\n    name: RoomList.Unknown,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n\n    ]\n}\n\nexport let volcanoRoom: Room = {\n    name: RoomList.Volcano,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Unknown, action: \"Plunge in to the unknown\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: unknownRoom, statuses: new Array<StructureStatus>() },\n    ]\n}\n\n\nexport let boulderRoom: Room = {\n    name: RoomList.Boulder,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Oasis, action: \"Dive left into the web-covered pit\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: oasisRoom, statuses: new Array<StructureStatus>() },\n        { title: RoomList.Volcano, action: \"Leap right into the musty cove\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: volcanoRoom, statuses: new Array<StructureStatus>() },\n    ]\n}\n\nexport let monstersRoom: Room = {\n    name: RoomList.Monsters,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Boulder, action: \"Tumble away from the ferocious monsters\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: boulderRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\nexport let rabbitRoom: Room = {\n    name: RoomList.Rabbit,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Monsters, action: \"Slide down tunnel\", cost: { green: 900, red: 8000, blue: 100, hp: 0 }, destination: monstersRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\nlet ropeMonsterDoor = { title: RoomList.Monsters, action: \"Rappel down behind the monster\", cost: { green: 100, red: 100, blue: 10, hp: 0 }, destination: monstersRoom, statuses: new Array<StructureStatus>() }\n\nexport let treeTopsRoom: Room = {\n    name: RoomList.TreeTops,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Monsters, action: \"Leap into the musty cove\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: monstersRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\nexport let templeGuardianRoom: Room = {\n    name: RoomList.TempleGuardian,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n\n    ]\n}\n\nexport let templeRuinsRoom: Room = {\n    name: RoomList.TempleRuins,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.TempleGuardian, action: \"Face the Temple Guardian\", cost: { green: 50120, red: 0, blue: 0, hp: 0 }, destination: templeGuardianRoom, statuses: new Array<StructureStatus>() },\n    ]\n}\n\nexport let jungleRoom: Room = {\n    name: RoomList.Jungle,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.TreeTops, action: \"Shimmy into the Tree Tops\", cost: { green: 2134, red: 0, blue: 0, hp: 0 }, destination: treeTopsRoom, statuses: new Array<StructureStatus>() },\n        { title: RoomList.TempleRuins, action: \"Venture towards the Temple Ruins\", cost: { green: 4444, red: 0, blue: 0, hp: 0 }, destination: templeRuinsRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\n\nexport let sandstormRoom: Room = {\n    name: RoomList.Sandstorm,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n    ]\n}\n\nexport let desertRoom: Room = {\n    name: RoomList.Desert,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Volcano, action: \"Leap right into the musty cove\", cost: { green: 0, red: 100000, blue: 0, hp: 0 }, destination: volcanoRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\nexport let moonRoom: Room = {\n    name: RoomList.Moon,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        \n    ]\n}\n\nexport let fungalColonyRoom: Room = {\n    name: RoomList.FungalColony,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Moon, action: \"Gaze deeply at the moon above\", cost: { green: 0, red: 0, blue: 100000, hp: 0 }, destination: moonRoom, statuses: new Array<StructureStatus>() },\n\n    ]\n}\n\nlet moonDoor = { title: RoomList.FungalColony, action: \"Venture behind the veil\", cost: { green: 100, red: 100, blue: 10, hp: 0 }, destination: desertRoom, statuses: new Array<StructureStatus>() }\nlet rabbitDoor = { title: RoomList.Rabbit, action: \"Hurdle over the frozen brambles\", cost: { green: 100, red: 100, blue: 10, hp: 0 }, destination: rabbitRoom, statuses: new Array<StructureStatus>() }\n\n\nexport let caveRoom: Room = {\n    name: RoomList.Cave,\n    statuses: new Array<StructureStatus>(),\n    options: [\n        { title: RoomList.Jungle, action: \"Swing from the vines\", cost: { green: 340, red: 0, blue: 0, hp: 0 }, destination: jungleRoom, statuses: new Array<StructureStatus>() },\n        { title: RoomList.Desert, action: \"Brave the wastes\", cost: { green: 970, red: 800, blue: 290, hp: 0 }, destination: desertRoom, statuses: new Array<StructureStatus>() }\n    ]\n}\n\n\n","import { types } from '@babel/core';\nimport { createAsyncThunk, createSlice, PayloadAction, current, Draft } from '@reduxjs/toolkit';\nimport { RootState, AppThunk } from '../../app/store';\nimport {\n  Spell,\n  Cost,\n  GreenFnParams,\n  BlueFnParams,\n  RedFnParams,\n  redFn,\n  blueFn,\n  greenFn,\n  hpFn,\n  Room,\n  GSResourceName,\n  HPFnParams,\n  GameStatus,\n  combineRedParams,\n  combineBlueParams,\n  combineGreenParams,\n  addResources,\n  removeResources,\n  isCostSatisfiable,\n  spells1,\n  RoomList\n} from './Types'\nimport { initializeTier1, Item, } from './Items'\nimport { caveRoom, getRoomInteractions, getDoorInteractions } from './Quest'\n\n\n\nlet GreenUpgrade: [Cost, boolean, GreenFnParams, Spell[]]\nlet BlueUpgrade: [Cost, boolean, BlueFnParams, Spell[]]\nlet RedUpgrade: [Cost, boolean, RedFnParams, Spell[]]\n\n\n\n\n\n\n\n\n\n\n\nexport interface GameState {\n  resources: Record<GSResourceName, number>;\n  gameLoopInterval: number;\n  availableSpells: Array<Spell>;\n  room: Room;\n  items: Array<typeof Item>;\n  redFnParams: RedFnParams;\n  greenFnParams: GreenFnParams;\n  blueFnParams: BlueFnParams;\n  hpFnParams: HPFnParams;\n  status: GameStatus;\n  combatLogMessages: Array<String>;\n  greenUpgrades: Array<typeof GreenUpgrade>;\n  redUpgrades: Array<typeof RedUpgrade>;\n  blueUpgrades: Array<typeof BlueUpgrade>;\n  blueDist: Array<number>;\n  bluePast: Array<number>;\n  greenDist: Array<number>;\n  redDist: Array<number>;\n}\n\nconst initialState: GameState = {\n  resources: {\n    red: 0, // 0\n    green: 0, // 20\n    blue: 3, //3\n    hp: 100\n  },\n  room: caveRoom,\n  gameLoopInterval: 0,\n  availableSpells: [],\n  items: initializeTier1(),\n  redFnParams: { linearP1: 1 },\n  greenFnParams: { linearP1: 2, quadraticP1: 0, twoPowerP1: 0 },\n  blueFnParams: { normalP1: 0, normalP2: 0 },\n  hpFnParams: { linearP1: 0.1 },\n  blueDist: [0, 0, 0, 0],\n  bluePast: [...Array(40).keys()].map(i => 0),\n  greenDist: [...Array(40).keys()].map(i => 0),\n  redDist: [...Array(40).keys()].map(i => 0),\n  status: \"ready\",\n  combatLogMessages: [],\n  greenUpgrades: [\n    [{ green: 13, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 0, twoPowerP1: 0 }, []],\n    [{ green: 29, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 0, twoPowerP1: 0 }, [spells1.CommuneWithPlants]],\n    [{ green: 105, red: 0, blue: 0, hp: 0 }, false, { linearP1: 4, quadraticP1: 0, twoPowerP1: 0 }, []],\n    [{ green: 82, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 1, twoPowerP1: 0 }, [spells1.SpectralRope]],\n    [{ green: 379, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0, quadraticP1: 3, twoPowerP1: 0 }, []],\n    [{ green: 1800, red: 0, blue: 7, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 1, twoPowerP1: 10 }, []],\n    [{ green: 500000, red: 100, blue: 0, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 1, twoPowerP1: 2 }, [spells1.Heal]],\n    [{ green: 1000000000, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3, quadraticP1: 1, twoPowerP1: 10 }, []],\n\n  ],\n  redUpgrades: [\n    [{ green: 13, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3 }, [spells1.Fireball]],\n    [{ green: 37, red: 0, blue: 1, hp: 0 }, false, { linearP1: 0.3 }, []],\n    [{ green: 105, red: 0, blue: 3, hp: 0 }, false, { linearP1: 4 }, []],\n    [{ green: 10, red: 0, blue: 0, hp: 0 }, false, { linearP1: 0.3 }, []],\n    [{ green: 7000, red: 0, blue: 0, hp: 0 }, false, { linearP1: 8 }, []],\n    [{ green: 61589, red: 0, blue: 55, hp: 0 }, false, { linearP1: 22 }, []],\n\n  ],\n  blueUpgrades: [\n    [{ green: 9, red: 45, blue: 0, hp: 0 }, false, { normalP1: 0.0002, normalP2: 0.0001 }, []],\n    [{ green: 499, red: 0, blue: 2, hp: 0 }, false, { normalP1: 0, normalP2: 0.5 }, [spells1.FrostRay]],\n    [{ green: 0, red: 389, blue: 21, hp: 0 }, false, { normalP1: 2, normalP2: 0 }, []],\n    [{ green: 0, red: 0, blue: 131, hp: 0 }, false, { normalP1: 0, normalP2: 10 }, []],\n    [{ green: 0, red: 0, blue: 305, hp: 0 }, false, { normalP1: 0, normalP2: 10 }, []],\n  ]\n\n\n};\n\n\nconst initialStateCopy = Object.assign({}, initialState)\n\nexport const gameStateSlice = createSlice({\n  name: 'gameState',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    startLoop: (state) => {\n      state.status = 'started';\n    },\n    resetState: (state) => {\n      clearInterval(state.gameLoopInterval);\n      Object.assign(state, initialStateCopy);\n    },\n    incrementRed: (state) => {\n      state.resources.red += redFn(state.redFnParams);\n      state.redDist.push(redFn(state.redFnParams));\n      state.redDist.shift();\n    },\n    castSpell: (state, payload) => {\n      if (payload) {\n        let spell = state.availableSpells.find(x => x.description === payload.payload.description)\n        if (spell) {\n          spell.available = false\n          handleSpell(state, spell)\n        }\n      }\n    },\n    resetSpell: (state, payload) => {\n      if (payload) {\n        let spell = state.availableSpells.find(x => x.description === payload.payload.description)\n        if (spell) {\n          spell.available = true\n        }\n      }\n    },\n    incrementBlue: (state) => {\n      state.resources.blue += blueFn(state.blueFnParams);\n      state.blueDist = [...Array(1000).keys()].map(i => Math.round(blueFn(state.blueFnParams)))\n      state.bluePast.push(state.resources.blue);\n      state.bluePast.shift();\n    },\n    incrementGreen: (state) => {\n      state.resources.green += greenFn(state.greenFnParams);\n      state.greenDist.push(state.resources.green);\n      state.greenDist.shift();\n    },\n    incrementHP: (state) => {\n      state.resources.hp -= hpFn(state.hpFnParams);\n      if (state.resources.hp <= 0) {\n        state.status = \"gameOver\"\n        console.log(state.status)\n      }\n    },\n    boulderKill: (state) => {\n      if(state.room.name === RoomList.Boulder){\n        state.status = \"gameOver\"\n      }\n    },\n\n    setGameLoopIntervals: (state, action) => {\n      state.gameLoopInterval = action.payload\n    },\n    clearGameLoopIntervals: (state) => {\n      clearInterval(state.gameLoopInterval);\n      state.gameLoopInterval = 0;\n    },\n    addCombatLogMessages: (state, action) => {\n      state.combatLogMessages.push(action.payload)\n    },\n    clearCombatLogMessages: (state) => {\n      state.combatLogMessages = []\n    },\n    buyItem: (state, action) => {\n      if (action.payload.item) {\n        let item = state.items[0]\n        let currentItem = current(item)\n        if (!item || !currentItem || action.payload.item !== currentItem) {\n          return\n        }\n        if (!isCostSatisfiable(currentItem[0], state.resources)) {\n          return\n        }\n        state.resources = removeResources(currentItem[0], state.resources)\n        state.resources = addResources(currentItem[1], state.resources)\n        state.items.shift()\n      }\n    },\n    stepQuest: (state, action) => {\n      let step = state.room.options\n      let currentStep = current(step)\n      if (!step || !currentStep) {\n        return\n      }\n\n      let currentChoice = currentStep.find(x => x === action.payload.choice)\n      if (!currentChoice) {\n        return\n      }\n      if (!isCostSatisfiable(currentChoice.cost, state.resources)) {\n        return\n      }\n      state.resources = removeResources(currentChoice.cost, state.resources)\n      if (currentChoice.destination.options.length == 0 ) {\n        state.status = 'victory'\n      }\n\n      state.room = currentChoice.destination\n      \n\n    },\n    upgrade: (state, action) => {\n      if (action.payload.green) {\n        let upgrade = state.greenUpgrades.find(x => !x[1])\n        let currentUpgrade = current(upgrade)\n        if (!upgrade || !currentUpgrade || action.payload.green !== currentUpgrade) {\n          return\n        }\n        if (!isCostSatisfiable(currentUpgrade[0], state.resources)) {\n          return\n        }\n        state.availableSpells = state.availableSpells.concat(currentUpgrade[3])\n        state.resources = removeResources(currentUpgrade[0], state.resources)\n        state.greenFnParams = combineGreenParams(state.greenFnParams, currentUpgrade[2])\n        upgrade[1] = true;\n      }\n      if (action.payload.red) {\n        let upgrade = state.redUpgrades.find(x => !x[1])\n        let currentUpgrade = current(upgrade)\n        if (!upgrade || !currentUpgrade || action.payload.red !== currentUpgrade) {\n          return\n        }\n        if (!isCostSatisfiable(currentUpgrade[0], state.resources)) {\n          return\n        }\n        state.availableSpells = state.availableSpells.concat(currentUpgrade[3])\n        state.resources = removeResources(currentUpgrade[0], state.resources)\n        state.redFnParams = combineRedParams(state.redFnParams, currentUpgrade[2])\n        upgrade[1] = true;\n      }\n      if (action.payload.blue) {\n        let upgrade = state.blueUpgrades.find(x => !x[1])\n        let currentUpgrade = current(upgrade)\n        if (!upgrade || !currentUpgrade || action.payload.blue !== currentUpgrade) {\n          return\n        }\n        state.availableSpells = state.availableSpells.concat(currentUpgrade[3])\n        state.resources = removeResources(currentUpgrade[0], state.resources)\n        state.blueFnParams = combineBlueParams(state.blueFnParams, currentUpgrade[2])\n        upgrade[1] = true;\n      }\n    },\n\n  },\n\n});\n\nfunction handleSpell(state: Draft<GameState>, spell: Spell) {\n  let interaction = getRoomInteractions(state.room.name)\n  let result = interaction(state, spell)\n\n  let doorResults = state.room.options.map(x => getDoorInteractions(x.destination.name)(state, spell))\n}\n\nexport const { incrementRed, resetState, startLoop, boulderKill, addCombatLogMessages, clearCombatLogMessages, incrementGreen, incrementBlue, setGameLoopIntervals, clearGameLoopIntervals, incrementHP, castSpell, resetSpell, buyItem, stepQuest, upgrade } = gameStateSlice.actions;\n\n\nexport const selectRed = (state: RootState) => state.gameState.resources.red;\nexport const selectBlue = (state: RootState) => state.gameState.resources.blue;\nexport const selectGreen = (state: RootState) => state.gameState.resources.green;\nexport const selectHP = (state: RootState) => state.gameState.resources.hp;\nexport const selectCombatLogMessages = (state: RootState) => state.gameState.combatLogMessages;\nexport const selectGreenFnP1 = (state: RootState) => state.gameState.greenFnParams.linearP1;\nexport const selectRoomName = (state: RootState) => state.gameState.room.name;\n\nexport const selectNextDoors = (state: RootState) => state.gameState.room.options || [];\n\nexport const selectSpells = (state: RootState) => state.gameState.availableSpells;\nexport const selectGameStatus = (state: RootState) => state.gameState.status;\nexport const selectBlueDist = (state: RootState) => state.gameState.blueDist;\nexport const selectBluePast = (state: RootState) => state.gameState.bluePast;\nexport const selectGreenDist = (state: RootState) => state.gameState.greenDist;\nexport const selectRedDist = (state: RootState) => state.gameState.redDist;\nexport const selectGreenUpgradeCost = (state: RootState) => state.gameState.greenUpgrades.find(x => !x[1]);\nexport const selectRedUpgradeCost = (state: RootState) => state.gameState.redUpgrades.find(x => !x[1]);\nexport const selectBlueUpgradeCost = (state: RootState) => state.gameState.blueUpgrades.find(x => !x[1]);\nexport const selectItemCost = (state: RootState) => state.gameState.items[0];\n\n\nexport default gameStateSlice.reducer;\n","import React, { useState, FunctionComponent } from 'react';\n\nimport {\n    Cost\n} from './Types';\n\n//export function getCostString(cost: Cost) {\nexport const getCostString: FunctionComponent<Cost> = (cost: Cost) => {\n  \n    return (<span>\n        {cost.green > 0 && <span>{cost.green}<span style={{ color: 'limegreen' }}>G  </span></span>}\n        {cost.blue > 0 && <span>{cost.blue}<span style={{ color: 'blue' }}>B  </span></span>}\n        {cost.red > 0 && <span>{cost.red}<span style={{ color: 'red' }}>R  </span></span>}\n    </span>)\n\n}","import React, { useState, FunctionComponent } from 'react';\n\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport {\n    selectHP,\n    selectNextDoors,\n    stepQuest,\n    selectSpells,\n    castSpell,\n    resetSpell,\n    clearCombatLogMessages,\n    selectCombatLogMessages,\n    selectRoomName,\n    resetState, \n    boulderKill,\n    addCombatLogMessages,\n} from './gameStateSlice';\nimport { Spell, RoomList } from './Types'\nimport { getCostString } from './Utils'\n\nimport styles from './Counter.module.css';\n\n\n\nexport const CYOA: FunctionComponent = () => {\n    let options = useAppSelector(selectNextDoors)\n    let roomName = useAppSelector(selectRoomName)\n    let messages = useAppSelector(selectCombatLogMessages)\n    let spells = useAppSelector(selectSpells)\n    const dispatch = useAppDispatch();\n    const hp = useAppSelector(selectHP);\n\n    function spellFn(spell: Spell) {\n        if (spell.available) {\n            dispatch(castSpell(spell))\n            setTimeout(() => dispatch(resetSpell(spell)), spell.cooldown || 1000)\n            setTimeout(() => dispatch(clearCombatLogMessages()), 7000)\n\n        }\n\n    }\n\n    function goStepQuest(choice){\n        dispatch(stepQuest(choice))\n        if(choice.choice.title === RoomList.Boulder){\n            dispatch(addCombatLogMessages('An enormous boulder cascades toward you.'))\n\n            setTimeout(() => dispatch(boulderKill()), 10000)\n        }\n    }\n\n\n    return (\n        <div>\n \n            <h2 style={{ 'color': 'rgb(255, 255, 255)' }}>Quest - <span style={{ 'color': 'red' }}>{Math.round(hp * 10) / 10}\n                <img src=\"./hp-heart.svg\" alt=\"heart\" className={hp > 30 ? styles.hpheart : styles.hpheartFaster} />\n            </span> </h2>\n            <div className={styles.row}>\n            <span style={{ 'color': 'lightgrey', 'fontSize':'12px' }}>Current Room: {roomName}</span>\n            <button\n                className={styles.button}\n                onClick={() => dispatch(resetState())}\n\n            >Reset</button>\n            </div>\n            { true && (\n                <div className={styles.row}>\n                    <span style={{ 'color': 'lightgrey', 'fontFamily': 'monospace' }}>\n                        {messages.join('. ')}\n                    </span>\n                </div>\n            )\n\n            }\n            <div className={styles.row}>\n\n                {options && options.map(option =>\n                (\n                    <div>\n                        <h3 style={{ 'color': 'rgb(255, 255, 255)' }}>{option.title} </h3>\n                        <button\n                            className={styles.button}\n                            onClick={() => goStepQuest({ \"choice\": option })}\n\n                        >\n                            {option.action} - {getCostString(option.cost)}\n                        </button>\n                    </div>\n                )\n\n                )\n                }\n\n            </div>\n            <div className={styles.row}>\n                {spells &&\n\n                    spells.map(spell => (\n\n                        <button\n                            className={styles.button}\n                            onClick={() => spellFn(spell)}\n\n                        >\n                            {spell.available ? <img src=\"./active_spell.svg\" alt=\"active\" className={styles.spellstatus} /> : <img src=\"./inactive_spell.svg\" alt=\"inactive\" className={styles.spellstatus} />} {spell.description}\n                        </button>\n\n                    )\n                    )\n                }\n            </div>\n        </div>\n    )\n}\n","import React, { useState, FunctionComponent } from 'react';\n\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport {\n  incrementRed,\n  incrementGreen,\n  incrementBlue,\n  incrementHP,\n  setGameLoopIntervals,\n  clearGameLoopIntervals,\n  startLoop,\n  selectRed,\n  selectGreen,\n  selectBlue,\n  selectGreenFnP1,\n  selectBlueDist,\n  selectBluePast,\n  selectGreenDist,\n  selectRedDist,\n  selectGameStatus\n} from './gameStateSlice';\nimport styles from './Counter.module.css';\n\nimport Plot from 'react-plotly.js';\nconst pd = require('probability-distributions');\n\nfunction formatResourceValue(x: number): String {\n  if(x <= 10000){\n    return x.toFixed(1)\n  } else if(x > 10000 && x <= 1000000){\n    return (x / 1000).toFixed(0) + 'K'\n  } else if(x > 1000000 && x <= 1000000000){\n    return (x / (1000 * 1000)).toFixed(0) + 'M'\n  } else if(x > 1000000000 && x <= 1000000000000){\n    return (x / (1000 * 1000 * 1000)).toFixed(0) + 'B'\n  } else {\n    return x + ''\n  }\n}\n\nlet xA: Array<number> = [];\nlet yA: Array<number> = [];\nfor (var i = 0; i < 20000; i++) {\n  xA[i] = pd.rbeta(1, 0.5, 0.5)[0];\n  yA[i] = pd.rbeta(1, 0.5, 0.5)[0];\n}\n/**\n <div className={styles.row}>\n      <Plot\n          data={[\n\n            {\n              type: 'histogram2dcontour', x:xA, y: yA\n            },\n          ]}\n          layout={{\n            width: 160, height: 120,\n\n            margin: {\n              l: 30,\n              r: 20,\n              b: 20,\n              t: 20,\n              pad: 4,\n\n            },\n          }}\n          config={{\n            'displayModeBar': false\n          }}\n        />\n      </div>\n */\n\n\n/*cards.map((card) => return (\n      <div>card</div>\n  ))*/\nexport const Draft: FunctionComponent = () => {\n  const red = useAppSelector(selectRed);\n  const redDist = useAppSelector(selectRedDist);\n  const green = useAppSelector(selectGreen);\n  const greenDist = useAppSelector(selectGreenDist);\n  const blue = useAppSelector(selectBlue);\n  const blueDist = useAppSelector(selectBlueDist);\n  const bluePast = useAppSelector(selectBluePast);\n  const gameStatus = useAppSelector(selectGameStatus);\n  const audio = new Audio(\"./impromptu_lower_bitrate.mp3\")\n\n\n  const dispatch = useAppDispatch();\n  const [incrementAmount, setIncrementAmount] = useState('2');\n  const plotlyLayout = {\n    width: 160, height: 120,\n    plot_bgcolor: 'rgba(255,255,255,0.0)',\n    paper_bgcolor: 'rgba(255,255,255,0.3)',\n    margin: {\n      l: 30,\n      r: 20,\n      b: 20,\n      t: 20,\n      pad: 4,\n\n    },\n    xaxis: {\n      color: 'white'\n    },\n    yaxis: {\n      color: 'white'\n    }\n\n  }\n\n  //  onClick={() => dispatch(incrementAsync(incrementred))}\n\n  function initializeLoop() {\n    // start timer after button is clicked\n    if (gameStatus == 'ready') {\n      dispatch(startLoop());\n      dispatch(clearGameLoopIntervals());\n      let intval = setInterval(() => {\n          dispatch(incrementRed());\n          dispatch(incrementGreen());\n          dispatch(incrementBlue());\n          dispatch(incrementHP());\n        },\n        1000);\n      dispatch(setGameLoopIntervals(intval))\n      audio.volume = 0.2;\n      audio.play();\n    }\n  }\n\n\n  return (\n    <div>\n      <div className={styles.row}>\n\n        <span className={styles.value} style={{ 'color': 'red' }}>{formatResourceValue(red)}</span>\n\n        <span className={styles.value} style={{ 'color': 'limegreen' }}>{formatResourceValue(green)}</span>\n        <span className={styles.value} style={{ 'color': 'steelblue' }}>{formatResourceValue(blue)}</span>\n\n\n\n      </div>\n\n      <div className={styles.row}>\n        <Plot\n          data={[\n\n            {\n              type: 'scatter', y: redDist, marker: {\n                color: 'red',\n              }\n            },\n          ]}\n\n          layout={plotlyLayout}\n          config={{\n            'displayModeBar': false\n          }}\n        />\n\n        <Plot\n          data={[\n\n            {\n              type: 'scatter', y: greenDist, marker: {\n                color: 'limegreen',\n              }\n            },\n          ]}\n          layout={plotlyLayout}\n          config={{\n            'displayModeBar': false\n          }}\n        />\n\n        <Plot\n          data={[\n\n            {\n              type: 'histogram', orientation: 'h', y: blueDist,\n              xaxis: 'x2',\n              yaxis: 'y2'\n            },\n            { type: 'scatter', y: bluePast, marker: { color: 'steelblue' } },\n          ]}\n          layout={{\n            plot_bgcolor: 'rgba(255,255,255,0.0)',\n            paper_bgcolor: 'rgba(255,255,255,0.3)',\n            width: 160, height: 120, margin: {\n              l: 40,\n              r: 20,\n              b: 20,\n              t: 20,\n              pad: 4\n            },\n            showlegend: false,\n            xaxis: {\n              domain: [0, 0.7],\n              color: 'white',\n              zeroline: false\n            },\n            yaxis: {\n              color: 'white',\n              zeroline: false\n            },\n            xaxis2: {\n              color: 'white',\n              domain: [0.8, 1],\n              showticklabels: false\n            },\n            yaxis2: {\n              color: 'white',\n              anchor: 'x2',\n              range: [0, 10],\n              showticklabels: false\n            }\n          }}\n          config={{\n            'displayModeBar': false\n          }}\n        />\n      </div>\n      {gameStatus == 'ready' &&\n        <div>\n\n          <button\n            className={styles.button}\n            aria-label=\"start\"\n            onClick={initializeLoop}\n          >\n            Start\n        </button>\n        </div>\n      }\n\n\n\n    </div>\n\n  );\n}\n","import React, { useState, FunctionComponent } from 'react';\n\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport {\n    selectGreenUpgradeCost,\n    selectRedUpgradeCost,\n    selectBlueUpgradeCost,\n    selectItemCost,\n    upgrade,\n    buyItem,\n} from './gameStateSlice';\nimport {GSResourceName} from './Types'\nimport {getCostString} from './Utils'\nimport styles from './Counter.module.css';\n\n\n\nexport const TechTree: FunctionComponent = () => {\n    const greenUpgradeCost = useAppSelector(selectGreenUpgradeCost);\n    const redUpgradeCost = useAppSelector(selectRedUpgradeCost);\n    const blueUpgradeCost = useAppSelector(selectBlueUpgradeCost);\n    const itemCost = useAppSelector(selectItemCost);\n    const dispatch = useAppDispatch();\n\n    return (\n        <div>\n            <div className={styles.row}>\n                {redUpgradeCost &&\n                    <button\n                        className={styles.button}\n                        onClick={() => dispatch(upgrade({ 'red': redUpgradeCost }))}\n                    >\n                        Red Upgrade - {getCostString(redUpgradeCost?.[0])}\n                    </button>\n                }\n                {greenUpgradeCost &&\n                    <button\n                        className={styles.button}\n                        onClick={() => dispatch(upgrade({ 'green': greenUpgradeCost }))}\n                    >\n                        Green Upgrade - {getCostString(greenUpgradeCost?.[0])}\n\n\n                    </button>\n                }\n                {blueUpgradeCost &&\n                    <button\n                        className={styles.button}\n                        onClick={() => dispatch(upgrade({ 'blue': blueUpgradeCost }))}\n                    >\n                        Blue Upgrade - {getCostString(blueUpgradeCost?.[0])}\n                    </button>\n                }\n            </div>\n\n            <div className={styles.row}>\n                {itemCost &&\n                    <button\n                        className={styles.button}\n                        onClick={() => dispatch(buyItem({ 'item': itemCost }))}\n                    >\n                        Item - {getCostString(itemCost[0])}\n                    </button>\n                }\n            </div>\n\n\n\n        </div>\n\n    );\n}\n","import React, { useState, FunctionComponent } from 'react';\nimport { CYOA } from './CYOA';\nimport { Draft } from './Draft';\nimport { GameOver } from './GameOver';\nimport { TechTree } from './TechTree';\n\n\nexport const GameWrapper: FunctionComponent = () => {\n\n\n\n    return (\n        <div>\n        <CYOA />\n        <Draft />\n        <TechTree />\n        </div>\n    )\n}\n","import React, { useState, FunctionComponent } from 'react';\n\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\n\nimport {GameWrapper} from './GameWrapper'\nimport {\n    clearGameLoopIntervals,\n    setGameLoopIntervals,\n    incrementRed,\n    incrementGreen,\n    incrementBlue,\n    incrementHP,\n    resetState,\n    startLoop,\n    selectRed,\n    selectGreen,\n    selectBlue,\n    selectGreenFnP1,\n    selectBlueDist,\n    selectBluePast,\n    selectGreenDist,\n    selectRedDist,\n    selectGameStatus\n  } from './gameStateSlice';\n\nimport styles from './Counter.module.css';\n\nexport const GameOver: FunctionComponent = () => {\n    let status = useAppSelector(selectGameStatus)\n    const red = useAppSelector(selectRed);\n    const redDist = useAppSelector(selectRedDist);\n    const green = useAppSelector(selectGreen);\n    const greenDist = useAppSelector(selectGreenDist);\n    const blue = useAppSelector(selectBlue);\n    const blueDist = useAppSelector(selectBlueDist);\n    const bluePast = useAppSelector(selectBluePast);\n    const gameStatus = useAppSelector(selectGameStatus);\n    const dispatch = useAppDispatch();\n\n    function initializeLoop() {\n        // start timer after button is clicked\n        if (gameStatus == 'ready' || gameStatus == 'victory' || gameStatus == 'gameOver') {\n          dispatch(resetState())\n          \n          dispatch(startLoop());\n          dispatch(clearGameLoopIntervals());\n          let intval = setInterval(() => {\n                dispatch(incrementRed());\n                dispatch(incrementGreen());\n                dispatch(incrementBlue());\n                dispatch(incrementHP());\n              },\n              1000);\n          dispatch(setGameLoopIntervals(intval))\n        }\n    }\n\n    return (\n        \n        <div>\n            {(() => { switch(status) {\n                case 'victory': return <div><div className={styles.endScreen} style={{ 'color': 'gold' }} > <span>You Win!</span> </div>  <button\n                className={styles.button}\n                aria-label=\"start\"\n                onClick={initializeLoop}\n              >\n                Start\n            </button></div>;\n                case 'gameOver': return <div><div className={styles.endScreen} style={{ 'color': 'red' }} > <span>GAME OVER</span> </div>\n                 <button\n            className={styles.button}\n            aria-label=\"start\"\n            onClick={initializeLoop}\n          >\n            Start\n        </button>\n                </div>\n                default: return <GameWrapper></GameWrapper>\n            }\n            })()\n        }\n        </div>\n    )\n}\n","import React from 'react';\nimport logo from './Beetle.png';\nimport { CYOA } from './features/gameState/CYOA';\nimport { Draft } from './features/gameState/Draft';\nimport { GameOver } from './features/gameState/GameOver';\nimport { TechTree } from './features/gameState/TechTree';\nimport './App.css';\nimport Particles from \"react-tsparticles\";\n\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      \n      <Particles\n      id=\"tsparticles\"\n      options={{\n        fullScreen: {\n          enable: true,\n          zIndex: 0\n        },\n        background: {\n          color: {\n            value: \"rgb(147,70,17)\",\n          },\n          \n          opacity: 0.01\n        },\n        fpsLimit: 60,\n        interactivity: {\n          detectsOn: \"canvas\",\n          modes: {\n            bubble: {\n              distance: 400,\n              duration: 2,\n              opacity: 0.2,\n              size: 10,\n            }, \n          },\n        },\n        particles: {\n          color: {\n            value: [\n              \"#921212\",\n              \"#9e1b3e\",\n              \"#c3711a\",\n              \"#ff6b00\"\n            ]\n\n          },\n        \n          collisions: {\n            enable: false,\n          },\n          move: {\n            direction: \"none\",\n            enable: true,\n            outMode: \"out\",\n            random: true,\n            speed: 4,\n            straight: false,\n          },\n          number: {\n            density: {\n              enable: true,\n              value_area: 800,\n            },\n            value: 8,\n          },\n          opacity: {\n            value: 0.5,\n          },\n          shape: {\n            type: [\"polygon\", \"circle\"],\n          },\n          size: {\n            random: true,\n            value: 5,\n          },\n          rotate: {\n            direction: \"clockwise\",\n            animation: {\n              enable: true,\n              speed: 8\n            }\n          },\n          zIndex: {\n            opacityRate: 0.2,\n            sizeRate: 0.5\n          }\n        },\n        detectRetina: true,\n      }}\n      \n      >\n        </Particles>\n      <header className=\"App-header\" >\n      \n        \n        <div style={{zIndex: 1, backgroundColor: 'rgba(85, 85, 85, 0.3)'}}>\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <GameOver />\n        </div>\n      </header>\n      \n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,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\"","// A mock function to mimic making an async request for data\nexport function fetchCount(amount = 1) {\n  return new Promise<{ data: number }>((resolve) =>\n    setTimeout(() => resolve({ data: amount }), 500)\n  );\n}\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState, AppThunk } from '../../app/store';\nimport { fetchCount } from './counterAPI';\n\nexport interface CounterState {\n  value: number;\n  status: 'idle' | 'loading' | 'failed';\n}\n\nconst initialState: CounterState = {\n  value: 0,\n  status: 'idle',\n};\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n// typically used to make async requests.\nexport const incrementAsync = createAsyncThunk(\n  'counter/fetchCount',\n  async (amount: number) => {\n    const response = await fetchCount(amount);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    incrementByAmount: (state, action: PayloadAction<number>) => {\n      state.value += action.payload;\n    },\n  },\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder\n      .addCase(incrementAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(incrementAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.value += action.payload;\n      });\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectCount = (state: RootState) => state.counter.value;\n\n// We can also write thunks by hand, which may contain both sync and async logic.\n// Here's an example of conditionally dispatching actions based on current state.\nexport const incrementIfOdd = (amount: number): AppThunk => (\n  dispatch,\n  getState\n) => {\n  const currentValue = selectCount(getState());\n  if (currentValue % 2 === 1) {\n    dispatch(incrementByAmount(amount));\n  }\n};\n\nexport default counterSlice.reducer;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport { combineReducers } from 'redux'\n\nimport counterReducer from '../features/counter/counterSlice';\nimport gameStateReducer from '../features/gameState/gameStateSlice';\n\nconst persistedState = localStorage.getItem('reduxState') \n                       ? JSON.parse(localStorage.getItem('reduxState') || '{}')\n                       : {}\nif(persistedState && persistedState.gameState && persistedState.gameState.status && persistedState.gameState.status === 'started'){\n   persistedState.gameState.status = 'ready'\n}\nexport const store = configureStore({\n  reducer: {\n    counter: counterReducer,\n    gameState: gameStateReducer,\n  },\n  preloadedState: persistedState\n},);\n\nstore.subscribe(() => {\n  localStorage.setItem('reduxState', JSON.stringify(store.getState()))\n})\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}